{"version":3,"sources":["utils/Context.js","components/Navbar.jsx","utils/authLocalForage.js","components/Layout.jsx","components/PostItem.jsx","pages/MainPage.jsx","utils/postLocalForage.js","pages/AddpostPage.jsx","pages/CongrachulatePage.jsx","pages/LoginPage.jsx","pages/RegistraitionPage.jsx","App.jsx","index.js"],"names":["Context","React","createContext","Navbar","isActiveStyle","opacity","useContext","auth","setAuth","className","to","style","isActive","undefined","onClick","localforage","removeItem","Layout","children","Fragment","PostItem","post","image","src","URL","createObjectURL","alt","MainPage","navigate","useNavigate","useState","posts","setPosts","useEffect","set","getItem","then","data","sort","a","b","datecreate","length","map","m","k","AddpostPage","setimage","title","setTitle","text","setText","onSubmit","e","preventDefault","type","onChange","target","files","value","placeholder","rows","token","author","views","comments","Date","now","datedate","setItem","createPost","val","console","log","CongrachulatePage","LoginPage","username","setUsername","password","setPassword","RegistrationPage","find","f","name","newUser","id","uniqid","registerUser","color","margin","App","Provider","path","element","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.37cb615c.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nexport const Context = React.createContext()","import react, {useState, useContext} from 'react'\r\nimport '../css/style.css'\r\nimport '../css/Navbar.css'\r\nimport {NavLink} from 'react-router-dom'\r\nimport {Context} from '../utils/Context.js'\r\nimport {out} from '../utils/authLocalForage.js'\r\n\r\n\r\nconst Navbar = () => {\r\n\tconst isActiveStyle = {opacity: '1'}\r\n\r\n\tconst {auth, setAuth} = useContext(Context)\r\n\r\n\tconst handleOut  = () => {\r\n\t\tout()\r\n\t\tsetAuth(!auth)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className='Navbar'>\r\n\r\n\t\t\t{\r\n\t\t\t\tauth \r\n\t\t\t\t\t? (\r\n\t\t\t\t\t\t<div className='Navbar__item'>\r\n\t\t\t\t\t\t\t<NavLink \r\n\t\t\t\t\t\t\t\tto='/' \r\n\t\t\t\t\t\t\t\tstyle={({isActive}) => isActive ? isActiveStyle : undefined}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tПосты\r\n\t\t\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t\t\t<NavLink \r\n\t\t\t\t\t\t\t\tto='/new'\r\n\t\t\t\t\t\t\t\tstyle={({isActive}) => isActive ? isActiveStyle : undefined}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tДобавить посты\r\n\t\t\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div className='Navbar__item'>\r\n\t\t\t\t\t\t\t<NavLink \r\n\t\t\t\t\t\t\t\tto='/' \r\n\t\t\t\t\t\t\t\tstyle={({isActive}) => isActive ? isActiveStyle : undefined}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tПосты\r\n\t\t\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)\r\n\t\t\t}\r\n\r\n\t\t\t<div className='Navbar__login'>\r\n\t\t\t\t{\r\n\t\t\t\t\tauth \r\n\t\t\t\t\t\t? (\r\n\t\t\t\t\t\t\t<NavLink to='/' onClick={handleOut}>Выйти</NavLink>\r\n\t\t\t\t\t\t): (\r\n\t\t\t\t\t\t\t<NavLink to='/login'>Войти</NavLink>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Navbar","import React from 'react'\r\nimport localforage from \"localforage\"\r\nimport uniqid from 'uniqid'\r\n\r\n\r\n\r\nexport const registerUser = (username, password, set) => {\r\n\tif(username === '' && password === '') {\r\n\t\treturn console.log('Имя и пароль должны быть заполнены.')\r\n\t}\r\n\tlocalforage.getItem('users')\r\n\t\t.then(data => {\r\n\t\t\tif(data) {\r\n\t\t\t\tconst check = data.find(f => f.name === username)\r\n\t\t\t\tif(check) {\r\n\t\t\t\t\tconsole.log('data ', data)\r\n\t\t\t\t\treturn console.log('Данное имя уже существует. Поробуйте новое имя.')\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst newUser = {}\r\n\t\t\t\t\tnewUser.name = username\r\n\t\t\t\t\tnewUser.password = password\r\n\t\t\t\t\tnewUser.id = uniqid()\r\n\r\n\t\t\t\t\tlocalforage.setItem('users', [...data, newUser])\r\n\t\t\t\t\tlocalforage.setItem('token', newUser.id)\r\n\t\t\t\t\tset(true)\r\n\t\t\t\t\t// console.log('data ', data)\r\n\t\t\t\t\treturn console.log('Поздравляю с регистрацией!')\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tconst newUser = {}\r\n\t\t\t\tnewUser.name = username\r\n\t\t\t\tnewUser.password = password\r\n\t\t\t\tnewUser.id = uniqid()\r\n\r\n\t\t\t\tlocalforage.setItem('users', [newUser])\r\n\t\t\t\tlocalforage.setItem('token', newUser.id)\r\n\t\t\t\t\tset(true)\r\n\t\t\t\t// console.log('data ', data)\r\n\t\t\t\treturn console.log('Поздравляю с регистрацией!')\r\n\t\t\t}\r\n\t\t})\r\n}\r\n\r\nexport const getMe = (set) => {\r\n\tlocalforage.getItem('token')\r\n\t\t.then(data => {\r\n\t\t\tif(data) {\r\n\t\t\t\treturn set(true)\r\n\t\t\t} else {\r\n\t\t\t\treturn set(false)\r\n\t\t\t}\r\n\t\t})\r\n}\r\n\r\nexport const out = () => {\r\n\tlocalforage.removeItem('token')\r\n}","import React from 'react'\r\nimport '../css/style.css'\r\nimport Navbar from '../components/Navbar.jsx'\r\n\r\nconst Layout  = ({children}) => {\r\n\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t<div className='base'>\r\n\t\t\t\t<div className='container'>\r\n\t\t\t\t\t<Navbar />\r\n\t\t\t\t\t{children}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</React.Fragment>\r\n\t)\r\n}\r\n \r\nexport default Layout","import '../css/style.css'\r\n\r\nconst PostItem = ({post}) => {\r\n\r\n\tif(!post) {\r\n\t\treturn (\r\n\t\t\t<div className='PostItem'>\r\n\t\t\t\t<h1>Постов нет</h1>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n\t// console.log('post PostItem ', post)\r\n\r\n\treturn (\r\n\t\t<div className='PostItem'>\r\n\t\t\tPostItem\r\n\r\n\t\t\t<div className='PostItem__wrapper'>\r\n\r\n\t\t\t\t<div className='PostItem__imagin'>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tpost.image && (\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tsrc={URL.createObjectURL(post.image)}\r\n\t\t\t\t\t\t\t\talt='Картинк'\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t</div> \r\n\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default PostItem","import React, {useEffect, useState, useContext} from 'react'\r\nimport '../css/style.css'\r\nimport '../css/MainPage.css'\r\nimport {useNavigate} from 'react-router-dom'\r\nimport localforage from \"localforage\"\r\nimport {getAllPosts} from '../utils/postLocalForage.js'\r\nimport PostItem from '../components/PostItem.jsx'\r\nimport {Context} from '../utils/Context.js'\r\n\r\n\r\nconst MainPage = () => {\r\n\tconst navigate = useNavigate()\r\n\tconst [posts, setPosts] = useState([])\r\n\tconst {auth} = useContext(Context)\r\n\r\n\tuseEffect(() => {\r\n\t\tgetAllPosts(setPosts)\r\n\t}, [])\r\n\r\n\tconst handleCreatePost = () => {\r\n\t\tnavigate('/new')\r\n\t}\r\n\r\n\tif(!posts.length) {\r\n\t\treturn (\r\n\t\t\t<div className='MainPage'>\r\n\t\t\t\t<div className='not_post'>\r\n\t\t\t\t\t<h2>Постов нет</h2>\r\n\t\t\t\t\t<div className='addpost'>\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tauth && (\r\n\t\t\t\t\t\t\t\t<button onClick={handleCreatePost}>Создать пост</button>\r\n\t\t\t\t\t\t\t)\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\t\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className='MainPage'>\r\n\r\n\t\t\t<div className=\"posts\">\r\n\t\t\t\t{\r\n\t\t\t\t\tposts && posts.map((m, k) => <PostItem key={k} post={m} />)\r\n\t\t\t\t}\r\n\t\t\t</div> \r\n\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default MainPage","import localforage from \"localforage\"\r\n\r\nexport const getAllPosts = (set) => {\r\n\tlocalforage.getItem('post')\r\n\t\t.then(data => {\r\n\t\t\tif(data) {\r\n\t\t\t\treturn set(data.sort((a, b) => b.datecreate - a.datecreate) || [])\r\n\t\t\t}\r\n\t\t})\r\n}\r\n\r\nexport const createPost = (post) => {\r\n\tlocalforage.getItem('post')\r\n\t.then(data => {\r\n\t\tif(data) {\r\n\t\t\t\tlocalforage.getItem('token')\r\n\t\t\t\t\t.then(token => {\r\n\t\t\t\t\t\tif(token) {\r\n\t\t\t\t\t\t\tpost.author = token\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\tpost.views = 0\r\n\t\t\t\tpost.comments = 0\r\n\t\t\t\tpost.datecreate = Date.now()\r\n\t\t\t\tpost.datedate = new Date()\r\n\t\t\tlocalforage.setItem('post', [...data, post])\r\n\t\t\t.then(() => {\r\n\t\t\t\tlocalforage.getItem('post')\r\n\t\t\t})\r\n\t\t} else {\r\n\t\t\tlocalforage.getItem('token')\r\n\t\t\t\t\t.then(token => {\r\n\t\t\t\t\t\tif(token) {\r\n\t\t\t\t\t\t\tpost.author = token\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\tlocalforage.setItem('post', [post])\r\n\t\t}\t\t\t\r\n\t})\r\n}","import React, {useState} from 'react'\r\nimport '../css/style.css'\r\nimport '../css/AddpostPage.css'\r\nimport localforage from \"localforage\"\r\nimport {useNavigate} from 'react-router-dom'\r\nimport {createPost} from '../utils/postLocalForage.js'\r\n\r\n\r\nconst AddpostPage  = () => {\r\n\tconst navigate = useNavigate()\r\n\tconst [image, setimage] = useState('')\r\n\tconst [title, setTitle] = useState('')\r\n\tconst [text, setText] = useState('')\r\n\r\n\tconst handleSubmit = () => {\r\n\t\tconst post = {}\r\n\t\tpost.image = image\r\n\t\tpost.title = title\r\n\t\tpost.text = text\r\n\r\n\t\tcreatePost(post)\r\n\t\tnavigate('/cong')\t\r\n\t}\r\n\r\n\tconst handleSubmitTest = () => {\r\n\t\tlocalforage.getItem(\"post\")\r\n\t\t\t.then(val => {\r\n    \t\tconsole.log(\"post: \", val)\r\n    \t})\r\n\t\t\r\n\t}\r\n\r\n\tconst handleSubmitremove = () => {\r\n\t\tlocalforage.removeItem('post')\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className='AddpostPage'>\r\n\t\t\t<h1>Добавить пост</h1>\r\n\t\t\t<form  \r\n\t\t\t\tonSubmit={e => e.preventDefault()}\r\n\t\t\t>\t\r\n\t\t\t\t<label className='file'>\r\n\t\t\t\t\tПрикрепить изображение\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype='file'\r\n\t\t\t\t\t\tclassName='hidden'\r\n\t\t\t\t\t\tonChange={e => setimage(e.target.files[0])}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</label>\r\n\t\t\t\t<div className='image'>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\timage && <img src={URL.createObjectURL(image)} alt='картинка' />\r\n\t\t\t\t\t}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='context'>\r\n\t\t\t\t\t<label>\r\n\t\t\t\t\t\tЗаголовок поста:\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\tvalue={title}\r\n\t\t\t\t\t\t\tonChange={e => setTitle(e.target.value)}\r\n\t\t\t\t\t\t\tplaceholder='Заголовок...'\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</label>\r\n\t\t\t\t\t<label>\r\n\t\t\t\t\t\tТекст поста:\r\n\t\t\t\t\t\t<textarea\r\n\t\t\t\t\t\t\trows='5'\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\tvalue={text}\r\n\t\t\t\t\t\t\tonChange={e => setText(e.target.value)}\r\n\t\t\t\t\t\t\tplaceholder='Текст...'\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</label>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='button_sibmit'>\r\n\r\n\t\t\t\t\t<button onClick={handleSubmit} className='submit'>Добавить</button>\r\n\t\t\t\t\t<button onClick={handleSubmitTest} className='submit'>Тест</button>\r\n\r\n\t\t\t\t\t<button onClick={handleSubmitremove} className='submit'>Очистить</button>\r\n\r\n\t\t\t\t\t<button onClick={() => navigate('/')} className='submit'>Отмена</button>\r\n\t\t\t\t</div>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default AddpostPage","\r\n\r\nconst CongrachulatePage = () => {\r\n\r\n\treturn (\r\n\t\t<div className='CongrachulatePage'>\r\n\t\t\tCongrachulatePage\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default CongrachulatePage","import React, {useState} from 'react'\r\nimport '../css/style.css'\r\nimport '../css/LoginPage.css'\r\nimport {NavLink} from 'react-router-dom'\r\n\r\n\r\n\r\nconst LoginPage  = () => {\r\n\tconst [username, setUsername] = useState('')\r\n\tconst [password, setPassword] = useState('')\r\n\r\n\r\n\tconst handleSubmit = () => {\r\n\t\t\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className='LoginPage'>\r\n\t\t\t<h1>Авторизация</h1>\r\n\t\t\t<form onSubmit={e => e.preventDefault()}>\r\n\t\t\t\t<label>\r\n\t\t\t\t\tИмя:\r\n\t\t\t\t\t<input \r\n\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\tplaceholder='Username'\r\n\t\t\t\t\t\tvalue={username}\r\n\t\t\t\t\t\tonChange={e => setUsername(e.target.value)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</label>\r\n\t\t\t\t<label>\r\n\t\t\t\t\tПароль:\r\n\t\t\t\t\t<input \r\n\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\tplaceholder='Username'\r\n\t\t\t\t\t\tvalue={password}\r\n\t\t\t\t\t\tonChange={e => setPassword(e.target.value)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</label>\r\n\t\t\t\t<div className='login'>\r\n\t\t\t\t\t<button onClick={handleSubmit}>Войти</button>\r\n\t\t\t\t\t<NavLink to='/registration'>Нет акаунта?</NavLink>\r\n\t\t\t\t</div>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default LoginPage","import React, {useState, useContext, useEffect} from 'react'\r\nimport '../css/style.css'\r\nimport '../css/RegistrationPage.css'\r\nimport {NavLink, useNavigate} from 'react-router-dom'\r\nimport {registerUser} from '../utils/authLocalForage.js'\r\nimport {Context} from '../utils/Context.js'\r\n\r\n\r\nimport localforage from \"localforage\"\r\n\r\n\r\n\r\nconst RegistrationPage  = () => {\r\n\tconst navigate = useNavigate()\r\n\tconst [username, setUsername] = useState('')\r\n\tconst [password, setPassword] = useState('')\r\n\tconst {auth, setAuth} = useContext(Context)\r\n\r\n\tuseEffect(() => {\r\n\t\tif(auth) {\r\n\t\t\t\tnavigate('/')\r\n\t\t\t}\t\r\n\t}, [auth])\r\n\r\n\tconst handleSubmit = () => {\r\n\t\t\tregisterUser(username, password, setAuth)\t\r\n\t}\r\n\r\n\tconst handleRemoveLocal = () => {\r\n\t\t\tlocalforage.removeItem('users')\r\n\t\t\tconsole.log('Все юзеры удалены')\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className='RegistrationPage'>\r\n\t\t\t<h1>Регистрация</h1>\r\n\t\t\t<form onSubmit={e => e.preventDefault()}>\r\n\t\t\t\t<label>\r\n\t\t\t\t\tИмя:\r\n\t\t\t\t\t<input \r\n\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\tplaceholder='Username'\r\n\t\t\t\t\t\tvalue={username}\r\n\t\t\t\t\t\tonChange={e => setUsername(e.target.value)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</label>\r\n\t\t\t\t<label>\r\n\t\t\t\t\tПароль:\r\n\t\t\t\t\t<input \r\n\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\tplaceholder='Username'\r\n\t\t\t\t\t\tvalue={password}\r\n\t\t\t\t\t\tonChange={e => setPassword(e.target.value)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</label>\r\n\t\t\t\t<div className='login'>\r\n\t\t\t\t\t<button onClick={handleSubmit}>Зарегистрироваться</button>\r\n\t\t\t\t\t<NavLink to='/login'>Login</NavLink>\r\n\t\t\t\t</div>\r\n\t\t\t</form>\r\n\r\n\t\t\t<button style={{color: 'white', margin: '20px 0'}} onClick={handleRemoveLocal}>\r\n\t\t\t\tУдалить всех юзеров\r\n\t\t\t</button>\r\n\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default RegistrationPage","import React, {useState, useEffect} from 'react'\r\nimport Layout from './components/Layout.jsx'\r\nimport MainPage from './pages/MainPage.jsx'\r\nimport AddpostPage from './pages/AddpostPage.jsx'\r\nimport CongrachulatePage from './pages/CongrachulatePage.jsx'\r\nimport LoginPage from './pages/LoginPage.jsx'\r\nimport RegistrationPage from './pages/RegistraitionPage.jsx'\r\nimport {Routes, Route} from 'react-router-dom'\r\nimport {Context} from './utils/Context.js'\r\nimport {getMe} from './utils/authLocalForage.js'\r\n\r\n\r\nconst App = () => {\t\t\r\n\r\n\tconst [auth, setAuth] = useState(false)\r\n\r\n\tuseEffect(() => {\r\n\t\tgetMe(setAuth)\r\n\t}, [])\r\n\t\r\n\t// console.log('auth ', auth)\t\r\n\r\n\treturn (\r\n\t\t<Context.Provider value={{auth, setAuth}}>\r\n\t\t\t<Layout>\r\n\t\t\t\t<Routes>\r\n\t\t\t\t\t<Route path='/' element={<MainPage />} />\r\n\t\t\t\t\t<Route path='/new' element={<AddpostPage />} />\r\n\t\t\t\t\t<Route path='/cong' element={<CongrachulatePage />} />\r\n\t\t\t\t\t<Route path='/login' element={<LoginPage />} />\r\n\t\t\t\t\t<Route path='/registration' element={<RegistrationPage />} />\r\n\t\t\t\t</Routes>\r\n\t\t\t</Layout>\r\n\t\t</Context.Provider>\r\n\t)\r\n\r\n}\r\n\r\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App.jsx'\nimport { HashRouter } from 'react-router-dom'\n\n\nReactDOM.render(\n\t<HashRouter>\n\t\t\t<App />\n\t</HashRouter>,\n\tdocument.getElementById('root')\n)"],"sourceRoot":""}