(this["webpackJsonpmy-historys"]=this["webpackJsonpmy-historys"]||[]).push([[0],{10:function(e,t,n){},28:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n(0),a=n.n(s),i=n(22),r=n.n(i),o=n(4),j=(n(10),n(28),n(8)),l=a.a.createContext(),u=n(7),b=n(6),d=n.n(b),h=n(21),O=n.n(h),m=function(){var e={opacity:"1"},t=Object(s.useContext)(l),n=t.auth,a=t.setAuth;return Object(c.jsxs)("div",{className:"Navbar",children:[n?Object(c.jsxs)("div",{className:"Navbar__item",children:[Object(c.jsx)(j.b,{to:"/",style:function(t){return t.isActive?e:void 0},children:"\u041f\u043e\u0441\u0442\u044b"}),Object(c.jsx)(j.b,{to:"/new",style:function(t){return t.isActive?e:void 0},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u0441\u0442\u044b"})]}):Object(c.jsx)("div",{className:"Navbar__item",children:Object(c.jsx)(j.b,{to:"/",style:function(t){return t.isActive?e:void 0},children:"\u041f\u043e\u0441\u0442\u044b"})}),Object(c.jsx)("div",{className:"Navbar__login",children:n?Object(c.jsx)(j.b,{to:"/",onClick:function(){d.a.removeItem("token"),a(!n)},children:"\u0412\u044b\u0439\u0442\u0438"}):Object(c.jsx)(j.b,{to:"/login",children:"\u0412\u043e\u0439\u0442\u0438"})})]})},x=function(e){var t=e.children;return Object(c.jsx)(a.a.Fragment,{children:Object(c.jsx)("div",{className:"base",children:Object(c.jsxs)("div",{className:"container",children:[Object(c.jsx)(m,{}),t]})})})},f=(n(32),n(3)),v=function(e){var t=e.post;return t?(console.log("post PostItem ",t),Object(c.jsxs)("div",{className:"PostItem",children:["PostItem",Object(c.jsx)("div",{className:"PostItem__wrapper",children:Object(c.jsx)("div",{className:"PostItem__imagin",children:t.image&&Object(c.jsx)("img",{src:URL.createObjectURL(t.image),alt:"\u041a\u0430\u0440\u0442\u0438\u043d\u043a"})})})]})):Object(c.jsx)("div",{className:"PostItem",children:Object(c.jsx)("h1",{children:"\u041f\u043e\u0441\u0442\u043e\u0432 \u043d\u0435\u0442"})})},g=function(){var e=Object(f.l)(),t=Object(s.useState)([]),n=Object(o.a)(t,2),a=n[0],i=n[1];Object(s.useEffect)((function(){var e;e=i,d.a.getItem("post").then((function(t){if(t)return e(t.sort((function(e,t){return t.datecreate-e.datecreate}))||[])}))}),[]);return a.length?Object(c.jsx)("div",{className:"MainPage",children:Object(c.jsx)("div",{className:"posts",children:a&&a.map((function(e,t){return Object(c.jsx)(v,{post:e},t)}))})}):Object(c.jsx)("div",{className:"MainPage",children:Object(c.jsxs)("div",{className:"not_post",children:[Object(c.jsx)("h2",{children:"\u041f\u043e\u0441\u0442\u043e\u0432 \u043d\u0435\u0442"}),Object(c.jsx)("div",{className:"addpost",children:Object(c.jsx)("button",{onClick:function(){e("/new")},children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u043e\u0441\u0442"})})]})})},p=(n(33),function(){var e=Object(f.l)(),t=Object(s.useState)(""),n=Object(o.a)(t,2),a=n[0],i=n[1],r=Object(s.useState)(""),j=Object(o.a)(r,2),l=j[0],b=j[1],h=Object(s.useState)(""),O=Object(o.a)(h,2),m=O[0],x=O[1];return Object(c.jsxs)("div",{className:"AddpostPage",children:[Object(c.jsx)("h1",{children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u0441\u0442"}),Object(c.jsxs)("form",{onSubmit:function(e){return e.preventDefault()},children:[Object(c.jsxs)("label",{className:"file",children:["\u041f\u0440\u0438\u043a\u0440\u0435\u043f\u0438\u0442\u044c \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435",Object(c.jsx)("input",{type:"file",className:"hidden",onChange:function(e){return i(e.target.files[0])}})]}),Object(c.jsx)("div",{className:"image",children:a&&Object(c.jsx)("img",{src:URL.createObjectURL(a),alt:"\u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0430"})}),Object(c.jsxs)("div",{className:"context",children:[Object(c.jsxs)("label",{children:["\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a \u043f\u043e\u0441\u0442\u0430:",Object(c.jsx)("input",{type:"text",value:l,onChange:function(e){return b(e.target.value)},placeholder:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a..."})]}),Object(c.jsxs)("label",{children:["\u0422\u0435\u043a\u0441\u0442 \u043f\u043e\u0441\u0442\u0430:",Object(c.jsx)("textarea",{rows:"5",type:"text",value:m,onChange:function(e){return x(e.target.value)},placeholder:"\u0422\u0435\u043a\u0441\u0442..."})]})]}),Object(c.jsxs)("div",{className:"button_sibmit",children:[Object(c.jsx)("button",{onClick:function(){var t={};t.image=a,t.title=l,t.text=m,function(e){d.a.getItem("post").then((function(t){t?(d.a.getItem("token").then((function(t){t&&(e.author=t)})),e.views=0,e.comments=0,e.datecreate=Date.now(),e.datedate=new Date,d.a.setItem("post",[].concat(Object(u.a)(t),[e])).then((function(){d.a.getItem("post")}))):(d.a.getItem("token").then((function(t){t&&(e.author=t)})),d.a.setItem("post",[e]))}))}(t),e("/cong")},className:"submit",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"}),Object(c.jsx)("button",{onClick:function(){d.a.getItem("post").then((function(e){console.log("post: ",e)}))},className:"submit",children:"\u0422\u0435\u0441\u0442"}),Object(c.jsx)("button",{onClick:function(){d.a.removeItem("post")},className:"submit",children:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c"}),Object(c.jsx)("button",{onClick:function(){return e("/")},className:"submit",children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]})]})]})}),N=function(){return Object(c.jsx)("div",{className:"CongrachulatePage",children:"CongrachulatePage"})},I=(n(34),function(){var e=Object(s.useState)(""),t=Object(o.a)(e,2),n=t[0],a=t[1],i=Object(s.useState)(""),r=Object(o.a)(i,2),l=r[0],u=r[1];return Object(c.jsxs)("div",{className:"LoginPage",children:[Object(c.jsx)("h1",{children:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"}),Object(c.jsxs)("form",{onSubmit:function(e){return e.preventDefault()},children:[Object(c.jsxs)("label",{children:["\u0418\u043c\u044f:",Object(c.jsx)("input",{type:"text",placeholder:"Username",value:n,onChange:function(e){return a(e.target.value)}})]}),Object(c.jsxs)("label",{children:["\u041f\u0430\u0440\u043e\u043b\u044c:",Object(c.jsx)("input",{type:"password",placeholder:"Username",value:l,onChange:function(e){return u(e.target.value)}})]}),Object(c.jsxs)("div",{className:"login",children:[Object(c.jsx)("button",{onClick:function(){},children:"\u0412\u043e\u0439\u0442\u0438"}),Object(c.jsx)(j.b,{to:"/registration",children:"\u041d\u0435\u0442 \u0430\u043a\u0430\u0443\u043d\u0442\u0430?"})]})]})]})}),C=(n(35),function(){var e=Object(s.useState)(""),t=Object(o.a)(e,2),n=t[0],a=t[1],i=Object(s.useState)(""),r=Object(o.a)(i,2),b=r[0],h=r[1],m=Object(s.useContext)(l),x=(m.auth,m.setAuth);return Object(c.jsxs)("div",{className:"RegistrationPage",children:[Object(c.jsx)("h1",{children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(c.jsxs)("form",{onSubmit:function(e){return e.preventDefault()},children:[Object(c.jsxs)("label",{children:["\u0418\u043c\u044f:",Object(c.jsx)("input",{type:"text",placeholder:"Username",value:n,onChange:function(e){return a(e.target.value)}})]}),Object(c.jsxs)("label",{children:["\u041f\u0430\u0440\u043e\u043b\u044c:",Object(c.jsx)("input",{type:"password",placeholder:"Username",value:b,onChange:function(e){return h(e.target.value)}})]}),Object(c.jsxs)("div",{className:"login",children:[Object(c.jsx)("button",{onClick:function(){!function(e,t,n){if(""===e&&""===t)return console.log("\u0418\u043c\u044f \u0438 \u043f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u043d\u044b \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u044b.");d.a.getItem("users").then((function(c){if(c){if(c.find((function(t){return t.name===e})))return console.log("data ",c),console.log("\u0414\u0430\u043d\u043d\u043e\u0435 \u0438\u043c\u044f \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442. \u041f\u043e\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043d\u043e\u0432\u043e\u0435 \u0438\u043c\u044f.");var s={};return s.name=e,s.password=t,s.id=O()(),d.a.setItem("users",[].concat(Object(u.a)(c),[s])),d.a.setItem("token",s.id),n(!0),console.log("\u041f\u043e\u0437\u0434\u0440\u0430\u0432\u043b\u044f\u044e \u0441 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0435\u0439!")}var a={};return a.name=e,a.password=t,a.id=O()(),d.a.setItem("users",[a]),d.a.setItem("token",a.id),n(!0),console.log("\u041f\u043e\u0437\u0434\u0440\u0430\u0432\u043b\u044f\u044e \u0441 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0435\u0439!")}))}(n,b,x)},children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"}),Object(c.jsx)(j.b,{to:"/login",children:"Login"})]})]}),Object(c.jsx)("button",{style:{color:"white",margin:"20px 0"},onClick:function(){d.a.removeItem("users"),console.log("\u0412\u0441\u0435 \u044e\u0437\u0435\u0440\u044b \u0443\u0434\u0430\u043b\u0435\u043d\u044b")},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u0441\u0435\u0445 \u044e\u0437\u0435\u0440\u043e\u0432"})]})}),k=function(){var e=Object(s.useState)(!1),t=Object(o.a)(e,2),n=t[0],a=t[1];return Object(s.useEffect)((function(){var e;e=a,d.a.getItem("token").then((function(t){return e(!!t)}))}),[]),console.log("auth ",n),Object(c.jsx)(l.Provider,{value:{auth:n,setAuth:a},children:Object(c.jsx)(x,{children:Object(c.jsxs)(f.c,{children:[Object(c.jsx)(f.a,{path:"/",element:Object(c.jsx)(g,{})}),Object(c.jsx)(f.a,{path:"/new",element:Object(c.jsx)(p,{})}),Object(c.jsx)(f.a,{path:"/cong",element:Object(c.jsx)(N,{})}),Object(c.jsx)(f.a,{path:"/login",element:Object(c.jsx)(I,{})}),Object(c.jsx)(f.a,{path:"/registration",element:Object(c.jsx)(C,{})})]})})})};r.a.render(Object(c.jsx)(j.a,{children:Object(c.jsx)(k,{})}),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.b27d7b29.chunk.js.map