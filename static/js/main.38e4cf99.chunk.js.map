{"version":3,"sources":["utils/Context.js","components/Navbar.jsx","utils/authLocalForage.js","components/Layout.jsx","components/PostItem.jsx","icons/eye_01.png","icons/comment_01.png","icons/edit_02.png","icons/delete_01.png","pages/MainPage.jsx","utils/postLocalForage.js","pages/AddpostPage.jsx","pages/CongrachulatePage.jsx","pages/LoginPage.jsx","pages/RegistraitionPage.jsx","App.jsx","utils/token.js","index.js"],"names":["Context","React","createContext","Navbar","isActiveStyle","opacity","useContext","auth","setAuth","className","to","style","isActive","undefined","onClick","localforage","removeItem","Layout","children","Fragment","PostItem","post","token","console","log","author","image","src","URL","createObjectURL","alt","authName","date","datedate","format","title","text","views","comments","MainPage","navigate","useNavigate","useState","posts","setPosts","useEffect","set","getItem","then","data","sort","a","b","datecreate","length","map","m","k","AddpostPage","setimage","setTitle","setText","check","setCheck","onSubmit","e","preventDefault","type","onChange","target","files","value","placeholder","rows","users","user","find","f","id","userName","Date","now","setItem","createPost","val","CongrachulatePage","LoginPage","username","setUsername","password","setPassword","RegistrationPage","name","newUser","uniqid","registerUser","color","margin","App","setToken","getToken","Provider","path","element","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.38e4cf99.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nexport const Context = React.createContext()","import react, {useState, useContext} from 'react'\r\nimport '../css/style.css'\r\nimport '../css/Navbar.css'\r\nimport {NavLink} from 'react-router-dom'\r\nimport {Context} from '../utils/Context.js'\r\nimport {out} from '../utils/authLocalForage.js'\r\n\r\n\r\nconst Navbar = () => {\r\n\tconst isActiveStyle = {opacity: '1'}\r\n\r\n\tconst {auth, setAuth} = useContext(Context)\r\n\r\n\tconst handleOut  = () => {\r\n\t\tout()\r\n\t\tsetAuth(!auth)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className='Navbar'>\r\n\r\n\t\t\t{\r\n\t\t\t\tauth \r\n\t\t\t\t\t? (\r\n\t\t\t\t\t\t<div className='Navbar__item'>\r\n\t\t\t\t\t\t\t<NavLink \r\n\t\t\t\t\t\t\t\tto='/' \r\n\t\t\t\t\t\t\t\tstyle={({isActive}) => isActive ? isActiveStyle : undefined}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tПосты\r\n\t\t\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t\t\t<NavLink \r\n\t\t\t\t\t\t\t\tto='/new'\r\n\t\t\t\t\t\t\t\tstyle={({isActive}) => isActive ? isActiveStyle : undefined}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tДобавить посты\r\n\t\t\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div className='Navbar__item'>\r\n\t\t\t\t\t\t\t<NavLink \r\n\t\t\t\t\t\t\t\tto='/' \r\n\t\t\t\t\t\t\t\tstyle={({isActive}) => isActive ? isActiveStyle : undefined}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tПосты\r\n\t\t\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)\r\n\t\t\t}\r\n\r\n\t\t\t<div className='Navbar__login'>\r\n\t\t\t\t{\r\n\t\t\t\t\tauth \r\n\t\t\t\t\t\t? (\r\n\t\t\t\t\t\t\t<NavLink to='/' onClick={handleOut}>Выйти</NavLink>\r\n\t\t\t\t\t\t): (\r\n\t\t\t\t\t\t\t<NavLink to='/login'>Войти</NavLink>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Navbar","import React from 'react'\r\nimport localforage from \"localforage\"\r\nimport uniqid from 'uniqid'\r\n\r\n\r\n\r\nexport const registerUser = (username, password, set) => {\r\n\tif(username === '' && password === '') {\r\n\t\treturn console.log('Имя и пароль должны быть заполнены.')\r\n\t}\r\n\tlocalforage.getItem('users')\r\n\t\t.then(data => {\r\n\t\t\tif(data) {\r\n\t\t\t\tconst check = data.find(f => f.name === username)\r\n\t\t\t\tif(check) {\r\n\t\t\t\t\tconsole.log('data ', data)\r\n\t\t\t\t\treturn console.log('Данное имя уже существует. Поробуйте новое имя.')\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst newUser = {}\r\n\t\t\t\t\tnewUser.userName = username\r\n\t\t\t\t\tnewUser.password = password\r\n\t\t\t\t\tnewUser.id = uniqid()\r\n\r\n\t\t\t\t\tlocalforage.setItem('users', [...data, newUser])\r\n\t\t\t\t\tlocalforage.setItem('token', newUser.id)\r\n\t\t\t\t\tset(true)\r\n\t\t\t\t\t// console.log('data ', data)\r\n\t\t\t\t\treturn console.log('Поздравляю с регистрацией!')\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tconst newUser = {}\r\n\t\t\t\tnewUser.userName = username\r\n\t\t\t\tnewUser.password = password\r\n\t\t\t\tnewUser.id = uniqid()\r\n\r\n\t\t\t\tlocalforage.setItem('users', [newUser])\r\n\t\t\t\tlocalforage.setItem('token', newUser.id)\r\n\t\t\t\t\tset(true)\r\n\t\t\t\t// console.log('data ', data)\r\n\t\t\t\treturn console.log('Поздравляю с регистрацией!')\r\n\t\t\t}\r\n\t\t})\r\n}\r\n\r\nexport const getMe = (set) => {\r\n\tlocalforage.getItem('token')\r\n\t\t.then(data => {\r\n\t\t\tif(data) {\r\n\t\t\t\treturn set(true)\r\n\t\t\t} else {\r\n\t\t\t\treturn set(false)\r\n\t\t\t}\r\n\t\t})\r\n}\r\n\r\nexport const out = () => {\r\n\tlocalforage.removeItem('token')\r\n}","import React from 'react'\r\nimport '../css/style.css'\r\nimport Navbar from '../components/Navbar.jsx'\r\n\r\nconst Layout  = ({children}) => {\r\n\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t<div className='base'>\r\n\t\t\t\t<div className='container'>\r\n\t\t\t\t\t<Navbar />\r\n\t\t\t\t\t{children}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</React.Fragment>\r\n\t)\r\n}\r\n \r\nexport default Layout","import React, {useContext} from 'react'\r\nimport '../css/style.css'\r\nimport '../css/PostItem.css'\r\nimport Moment from 'react-moment'\r\nimport viewsImg from '../icons/eye_01.png'\r\nimport commentImg from '../icons/comment_01.png'\r\nimport editImg from '../icons/edit_02.png'\r\nimport deleteImg from '../icons/delete_01.png'\r\nimport {Context} from '../utils/Context.js'\r\n\r\nconst PostItem = ({post, auth}) => {\r\n  const {token} = useContext(Context)\r\n\r\n\tif(!post) {\r\n\t\treturn (\r\n\t\t\t<div className='PostItem'>\r\n\t\t\t\t<h1>Постов нет</h1>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n\t//console.log('post PostItem ', post)\r\n\tconsole.log('post, auth PostItem ', post.author, auth)\r\n\r\n\treturn (\r\n\t\t<div className='PostItem'>\r\n\r\n\t\t\t<div className='flext'>\r\n\t\t\t\t<div className='image'>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tpost.image && (\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tsrc={URL.createObjectURL(post.image)}\r\n\t\t\t\t\t\t\t\talt='Картинк'\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className='name'>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t{post.authName}\r\n\t\t\t\t</div>\r\n\t\t\t\t<Moment \r\n\t\t\t\tdate={post.datedate} \r\n\t\t\t\tformat='DD MM YYYY' \r\n\t\t\t\tclassName='PostItem__date'\r\n\t\t\t/>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className='title'>{post.title}</div>\r\n\t\t\t<div className='text line-clamp-3'>{post.text}</div>\r\n\r\n\t\t\t<div className='PostItem_icons'>\r\n\t\t\t\t<div className='PostItem_icons__pablic'>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<img src={viewsImg} alt='Просмотров' />\r\n\t\t\t\t\t\t<span>{post.views}</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<img src={commentImg} alt='Комментарии' />\r\n\t\t\t\t\t\t<span>{post.comments}</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{\r\n\t\t\t\t\tpost.author === token && (\r\n\t\t\t\t\t\t<div className='PostItem_icons__pablic edit'>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<img src={editImg} alt='Просмотров' />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<img src={deleteImg} alt='Комментарии' />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\r\n\t\t\t</div>\r\n\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default PostItem","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAAeNJREFUWIXt1j1PFFEUBuAHl0ZN6Cgg8gdECzuNhlhrowl/wMZYCKWGik5s6KmoKaVQpCIETCyQRn/AJtpoQWE2ISAsFnNW7w4zOztmbXTf5CQz5/O9n+cyxBD/O0Zq+E7hHu7gWvyPhe07PuMTdvEm/gdC8AG2cIqzPuU0Yh6qN8gu3MJejaJlshe5+kYDL3BSkKyNZki7BomTyNmoKn4ZGyVJvmEm8Z3B15qzsRE1SovvFARsx/dsQcxsRcHtggHtFJG4gFeJUxuLsg3UDN2lAgIXKwg0I8ei7iVbj5q/sJArPpfYjkM/WUBgsoLAj8R3LkdioWO4iqPE8DJXpBX65QICyxUEWjn/pcR2hGnYTJS7zu/Ufb9nZhV3Q1ZVn4T9XK6G7n22OZpzOCsY5QZuyNbyUUi/eNuP07TuJVjK2adwqPdIi+QwYlMULgG9NyE8+wMCz3M5nirZhGRHYj1HonMMO1ipUXwlievrGFJ+EaXT+AQHPQofhE8HU/q8iFIS+YCWbO0mwmcMj7GG9yFroeu054mIaTk/oNLiHZQ1o2NZn5/HTYxjNGQ8dPPhc5yLPQlClc0oxaDa8Qc123GKEdmjYstfepDUfZLdx21cxxXdT7Iv+Ih3eG1AT7Ihhvj38ROyhEGcv5ljWQAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAL1QTFRFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////62xV3gAAAD10Uk5TAAEUHhNa0ePOYv7m4vzqOR3l4R9mz/0HBBvN4H8axuhW0OT6934nXoD2nQgc+emC2fhSCmMZoH0DAnvYX8sW0lcAAAABYktHRD5JZADjAAAACXBIWXMAAdhxAAHYcQFzn84mAAABIUlEQVQ4y72Sb1eCMBTGx2YN2ZA/K1BIqRymkVmZqRXf/2s1HJORwPGczum+2Yvnt91nz70AnF8GRCfVMzTg4hKflNmvdGhahNZlSuxBBSBKHLfewHW8XAMwRr9tIf8MwICsfI7QRuDqWhmy/EZgEEjvrUDuSe+tLXJ1r83kvwJ61G4IhiN2iPoIwCg/fJj6PsXxTTieiK8HSQWA27tygja5n/J0FlsERw8aIEMXeRAHzfniMREtoaEB+tCylAel0gwUhAJE1Gw0BOETqk01S5cSeC6GNRmHq/g41ahXCNn8hRVn38TEimer16mnFvVN9lq/b6R38WjyseBbuTiIQbXqu30VqM0/M9BaAujUBbDs1AH72nbqYPO97tTBfgf+UD91kB7T7XNlTAAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxOC0wNi0wNVQxNzozMDo0NCswMjowMIctzIcAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTgtMDYtMDVUMTc6MzA6NDQrMDI6MDD2cHQ7AAAARnRFWHRzb2Z0d2FyZQBJbWFnZU1hZ2ljayA2LjcuOC05IDIwMTYtMDYtMTYgUTE2IGh0dHA6Ly93d3cuaW1hZ2VtYWdpY2sub3Jn5r80tgAAABh0RVh0VGh1bWI6OkRvY3VtZW50OjpQYWdlcwAxp/+7LwAAABh0RVh0VGh1bWI6OkltYWdlOjpoZWlnaHQANTEywNBQUQAAABd0RVh0VGh1bWI6OkltYWdlOjpXaWR0aAA1MTIcfAPcAAAAGXRFWHRUaHVtYjo6TWltZXR5cGUAaW1hZ2UvcG5nP7JWTgAAABd0RVh0VGh1bWI6Ok1UaW1lADE1MjgyMTI2NDT3ZTcjAAAAE3RFWHRUaHVtYjo6U2l6ZQA1LjI3S0JCZznPewAAAEh0RVh0VGh1bWI6OlVSSQBmaWxlOi8vLi91cGxvYWRzLzU2LzlkQkhVWjcvMTUyNC9jb21tZW50ZGlzY3Vzc2lvbl8xMDYzODIucG5n46g4wQAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAAAJwAAACcBKgmRTwAABeZJREFUWMOtl0tsVGUUx3/nu3emnVILnQ6PthZEiFNcKAtpRMTSqNSkaGKMK4myc6OJiiTuUaEUNdGtJhJc+ViYiMpGaAENFGs18tLiowitQmzVwtjp3O+4+L657fRBx+jZ3Nx7z3fO/zy+8xDmoZd7WgECVbLAAwobVGkGVqiyQAFVxoBBVc4pHAUOqnIWiHbe131d+TLXj11eMdCi8IQq7UCTOjDgFOMBTH2PgAuqHFR4G+gFohfnADIDwJ5jG7HWADQoPIOyTWExU5SVKGUmGPU/FH5D2afwGjBkjGHnvYfmBrD7yD2I+7ROYS+wURVRwFqIdFIxgIgTIFOkqDo+a2NACnQrbBehz1pl1+aemQD2HN2ERRHYDLzuY05kYSJyTwSMPyXTAEx9ItPOOSBngKeAzxTYtbl7EsArX7QROc51wH6FrKoTkC84q0RKFcwFIPaMuHPjBShEcWhOA9uAXlHDy+2HnEHWWkRoBLrAWZ4vwN8TYPV6qXodUjACqQQkw/jrrUCXKo0W5xrpOtYKIgbV3arsAMhHcC0/GaPZXDz7dwW13gOCERNjv5Z3cn2CdgEvAC7dRfVOYJv42OXypclWnsGW6mSadTc+yt3Lt5GpWon6OyICqSQEJr42Tyi0AIQGjMLjwGJV5/bIlmb2fGTVsqhyCR237GBVugUQsplWPjy9k5H8jwiGwEBlAq5aUGUJ8FgEJ4wKa4B2gIJ1bvo3MVe1LKqsp2nhbVQla+PDS6tXk9ZmChNRzJsMnMWeOoyyJvTKm4qJZ7V861UttakGtmS3U1OxlP6hj0CV+huyqCpXx3LYKbE04hLSY1oObAqBDfjyOgVsWcrTVQ103PIcN9euA2Dtsg76hw8gIgwPD3H+9+NULQtLziWC+IoGwF0h0AyuehWLRlnKU075qnQLqoqIkFmwgrX1HXQP7OPU+eOEtVcxphRAYCAQf71hrRHnirh0zud9693ekXXKc+NjfPdLH6oO/cWhQU4NnCBM/0lFZTjZLJiUb0z8vjwEqp1g5kVgveVbss+xOt3C6NgVLo/+woqlaxAx9A/08EFvJ2FmFBMkZhciLhc8VYeUSdbH/MFmp/zy6EX+yo2wNL2cymQV/QM9vN/bSVg3SkUqUZ47cb1lDDyqOQ6oKumqRh7yll/54xK58TEWLshQU5WOlQde+XWLmMbxB/jLKAzi4yKUhMzzK4mggraVj7O6rgWAfGGcqlQNdTXL6B/o4b0TnZj0/MqL8q2N3wcNcBZcZgZmmnJV0ql6Nq9+kpHcMCO5IQAa6laSqamnf6CHd090Yqa6fR6K/Fzh6WsDHAMiEXdHS623ZDN3sb7pEbKZ9Xx56aMYRP9AD+8e7yRIl6/ceS/uMxHweQgcBJ4GbkqGrn8XZQlCKnEDAI01zU7x8Kck/q7l4743kboREpUB1kYUU6joZhEwmOKEBbjYTyl2g8DhUJQz6kA8GRpXr8cLkwlZEaTiE401zZwZPMkn514lUWdZvLCBulRTSXsuxloEfs9dYCx/OQaRj1y/8XRA0TOhBSuwD3hYhCWVCcfkeoJwavgoP/38E7ZgiWyB7y/3kqhVkhUBCZPCjNUyMR6V9A83HwhXr13EVismFCLrOq13/6/AO0bEFuvAcWCfKjsC43q3G0iEn//4hsJEH/gmlcyEhKFLlivXBhnO/+BKMTMHFFNpSAYhqm7GKM6VKG8Z6I1LRdexVoAGVd4B2hQYn/ChoMyJaA4ecHLGJ+Lc+kyVrcDQ7vZuNxOG1qLKJeB53OBIMnQDhJmtOMxG05aVYtLlJlzme/oW2CHCEP7KG4BnNx4BFSz0KTyNOhCJwIHwHi8LR9HqQuRiXojiH98KPCVCHwq77+8u4QdgT88mrFgEucMvJq1Fi/7jYnJYYTvwlYjw0n2HZwCOae+RNgpuZP6/VrO3FN4AhrDwUnvpjljOcnqHwlZVtvDvltMDCvtRTgLRi/eXuZxOp2nreZtfz29n5np+QZWv1ZX2Q2o5i8y/nv8D0qz2UUQ3nOAAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTctMDItMDdUMTc6MTE6MTIrMDE6MDC7VLoJAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE3LTAyLTA3VDE3OjExOjEyKzAxOjAwygkCtQAAAEZ0RVh0c29mdHdhcmUASW1hZ2VNYWdpY2sgNi43LjgtOSAyMDE2LTA2LTE2IFExNiBodHRwOi8vd3d3LmltYWdlbWFnaWNrLm9yZ+a/NLYAAAAYdEVYdFRodW1iOjpEb2N1bWVudDo6UGFnZXMAMaf/uy8AAAAYdEVYdFRodW1iOjpJbWFnZTo6aGVpZ2h0ADUxMsDQUFEAAAAXdEVYdFRodW1iOjpJbWFnZTo6V2lkdGgANTEyHHwD3AAAABl0RVh0VGh1bWI6Ok1pbWV0eXBlAGltYWdlL3BuZz+yVk4AAAAXdEVYdFRodW1iOjpNVGltZQAxNDg2NDgzODcyisR5AAAAABN0RVh0VGh1bWI6OlNpemUAMjYuOUtCQgjUfLMAAABtdEVYdFRodW1iOjpVUkkAZmlsZTovLy4vdXBsb2Fkcy9jYXJsb3NwcmV2aS94WDNIdDZKLzExNTEvMTQ4NjUwNTM3NS1lZGl0LXBlbi1jaGFuZ2Utb3B0aW9uLXBlbmNpbC13cml0ZV84MTQyMi5wbmc8HBLsAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,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\"","import React, {useEffect, useState, useContext} from 'react'\r\nimport '../css/style.css'\r\nimport '../css/MainPage.css'\r\nimport {useNavigate} from 'react-router-dom'\r\nimport localforage from \"localforage\"\r\nimport {getAllPosts} from '../utils/postLocalForage.js'\r\nimport PostItem from '../components/PostItem.jsx'\r\nimport {Context} from '../utils/Context.js'\r\n\r\n\r\nconst MainPage = () => {\r\n\tconst navigate = useNavigate()\r\n\tconst [posts, setPosts] = useState([])\r\n\tconst {auth} = useContext(Context)\r\n\r\n\tuseEffect(() => {\r\n\t\tgetAllPosts(setPosts)\r\n\t}, [])\r\n\r\n\tconst handleCreatePost = () => {\r\n\t\tnavigate('/new')\r\n\t}\r\n\r\n\tif(!posts.length) {\r\n\t\treturn (\r\n\t\t\t<div className='MainPage'>\r\n\t\t\t\t<div className='not_post'>\r\n\t\t\t\t\t<h2>Постов нет</h2>\r\n\t\t\t\t\t<div className='addpost'>\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tauth && (\r\n\t\t\t\t\t\t\t\t<button onClick={handleCreatePost}>Создать пост</button>\r\n\t\t\t\t\t\t\t)\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\t\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className='MainPage'>\r\n\r\n\t\t\t<div className=\"posts\">\r\n\t\t\t\t{\r\n\t\t\t\t\tposts && posts.map((m, k) => <PostItem key={k} post={m} auth={auth} />)\r\n\t\t\t\t}\r\n\t\t\t</div> \r\n\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default MainPage","import localforage from \"localforage\"\r\n\r\nexport const getAllPosts = (set) => {\r\n\tlocalforage.getItem('post')\r\n\t\t.then(data => {\r\n\t\t\tif(data) {\r\n\t\t\t\treturn set(data.sort((a, b) => b.datecreate - a.datecreate) || [])\r\n\t\t\t}\r\n\t\t})\r\n}\r\n\r\nexport const createPost = (post) => {\r\n\t// console.log('post createPost ', post)\r\n\tlocalforage.getItem('post')\r\n\t.then(data => {\r\n\t\tif(data) {\r\n\t\t\t\tlocalforage.getItem('token')\r\n\t\t\t\t\t.then(token => {\r\n\t\t\t\t\t\tif(token) {\r\n\t\t\t\t\t\t\tpost.author = token\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\tlocalforage.getItem('users')\r\n\t\t\t\t\t.then(users => {\r\n\t\t\t\t\t\tif(users) {\r\n\t\t\t\t\t\t\tconst user = users.find(f => f.id === post.author)\r\n\t\t\t\t\t\t\tconsole.log('createPost user', user)\r\n\t\t\t\t\t\t\tpost.authName = user.userName\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then(() => {\r\n\t\t\t\t\t\tpost.views = 0\r\n\t\t\t\t\t\tpost.comments = 0\r\n\t\t\t\t\t\tpost.datecreate = Date.now()\r\n\t\t\t\t\t\tpost.datedate = new Date()\r\n\t\t\t\t\t\tlocalforage.setItem('post', [...data, post])\r\n\t\t\t\t\t})\r\n\t\t} else {\r\n\t\t\tlocalforage.getItem('token')\r\n\t\t\t\t\t.then(token => {\r\n\t\t\t\t\t\tif(token) {\r\n\t\t\t\t\t\t\tpost.author = token\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\tlocalforage.getItem('users')\r\n\t\t\t\t\t.then(users => {\r\n\t\t\t\t\t\tif(users) {\r\n\t\t\t\t\t\t\tconst user = users.find(f => f.id === post.author)\r\n\t\t\t\t\t\t\tpost.authName = user.userName\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then(() => {\r\n\t\t\t\t\t\tpost.views = 0\r\n\t\t\t\t\t\tpost.comments = 0\r\n\t\t\t\t\t\tpost.datecreate = Date.now()\r\n\t\t\t\t\t\tpost.datedate = new Date()\r\n\t\t\t\t\t\tlocalforage.setItem('post', [post])\r\n\t\t\t\t\t})\r\n\t\t}\t\t\t\r\n\t})\r\n}","import React, {useState, useContext, useEffect} from 'react'\r\nimport '../css/style.css'\r\nimport '../css/AddpostPage.css'\r\nimport localforage from \"localforage\"\r\nimport {useNavigate} from 'react-router-dom'\r\nimport {createPost} from '../utils/postLocalForage.js'\r\nimport {Context} from '../utils/Context.js'\r\n\r\n\r\nconst AddpostPage  = () => {\r\n\tconst navigate = useNavigate()\r\n\tconst [image, setimage] = useState('')\r\n\tconst [title, setTitle] = useState('')\r\n\tconst [text, setText] = useState('')\r\n\tconst {check, setCheck} = useContext(Context)\r\n\r\n\tconst handleCreatePost = () => {\r\n\t\tconst post = {}\r\n\t\tpost.image = image\r\n\t\tpost.title = title\r\n\t\tpost.text = text\r\n\r\n\t\tcreatePost(post)\r\n\t\tsetCheck(!check)\r\n\t\tnavigate('/cong')\t\r\n\t}\r\n\r\n\tconst handleSubmitTest = () => {\r\n\t\tlocalforage.getItem(\"post\")\r\n\t\t\t.then(val => {\r\n    \t\tconsole.log(\"post: \", val)\r\n    \t})\r\n\t\t\r\n\t}\r\n\r\n\tconst handleSubmitremove = () => {\r\n\t\tlocalforage.removeItem('post')\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className='AddpostPage'>\r\n\t\t\t<h1>Добавить пост</h1>\r\n\t\t\t<form  \r\n\t\t\t\tonSubmit={e => e.preventDefault()}\r\n\t\t\t>\t\r\n\t\t\t\t<label className='file'>\r\n\t\t\t\t\tПрикрепить изображение\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype='file'\r\n\t\t\t\t\t\tclassName='hidden'\r\n\t\t\t\t\t\tonChange={e => setimage(e.target.files[0])}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</label>\r\n\t\t\t\t<div className='image'>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\timage && <img src={URL.createObjectURL(image)} alt='картинка' />\r\n\t\t\t\t\t}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='context'>\r\n\t\t\t\t\t<label>\r\n\t\t\t\t\t\tЗаголовок поста:\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\tvalue={title}\r\n\t\t\t\t\t\t\tonChange={e => setTitle(e.target.value)}\r\n\t\t\t\t\t\t\tplaceholder='Заголовок...'\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</label>\r\n\t\t\t\t\t<label>\r\n\t\t\t\t\t\tТекст поста:\r\n\t\t\t\t\t\t<textarea\r\n\t\t\t\t\t\t\trows='5'\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\tvalue={text}\r\n\t\t\t\t\t\t\tonChange={e => setText(e.target.value)}\r\n\t\t\t\t\t\t\tplaceholder='Текст...'\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</label>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='button_sibmit'>\r\n\r\n\t\t\t\t\t<button onClick={handleCreatePost} className='submit'>Добавить</button>\r\n\t\t\t\t\t<button onClick={handleSubmitTest} className='submit'>Тест</button>\r\n\r\n\t\t\t\t\t<button onClick={handleSubmitremove} className='submit'>Очистить</button>\r\n\r\n\t\t\t\t\t<button onClick={() => navigate('/')} className='submit'>Отмена</button>\r\n\t\t\t\t</div>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default AddpostPage","\r\n\r\nconst CongrachulatePage = () => {\r\n\r\n\treturn (\r\n\t\t<div className='CongrachulatePage'>\r\n\t\t\tCongrachulatePage\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default CongrachulatePage","import React, {useState} from 'react'\r\nimport '../css/style.css'\r\nimport '../css/LoginPage.css'\r\nimport {NavLink} from 'react-router-dom'\r\n\r\n\r\n\r\nconst LoginPage  = () => {\r\n\tconst [username, setUsername] = useState('')\r\n\tconst [password, setPassword] = useState('')\r\n\r\n\r\n\tconst handleSubmit = () => {\r\n\t\t\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className='LoginPage'>\r\n\t\t\t<h1>Авторизация</h1>\r\n\t\t\t<form onSubmit={e => e.preventDefault()}>\r\n\t\t\t\t<label>\r\n\t\t\t\t\tИмя:\r\n\t\t\t\t\t<input \r\n\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\tplaceholder='Username'\r\n\t\t\t\t\t\tvalue={username}\r\n\t\t\t\t\t\tonChange={e => setUsername(e.target.value)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</label>\r\n\t\t\t\t<label>\r\n\t\t\t\t\tПароль:\r\n\t\t\t\t\t<input \r\n\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\tplaceholder='Username'\r\n\t\t\t\t\t\tvalue={password}\r\n\t\t\t\t\t\tonChange={e => setPassword(e.target.value)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</label>\r\n\t\t\t\t<div className='login'>\r\n\t\t\t\t\t<button onClick={handleSubmit}>Войти</button>\r\n\t\t\t\t\t<NavLink to='/registration'>Нет акаунта?</NavLink>\r\n\t\t\t\t</div>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default LoginPage","import React, {useState, useContext, useEffect} from 'react'\r\nimport '../css/style.css'\r\nimport '../css/RegistrationPage.css'\r\nimport {NavLink, useNavigate} from 'react-router-dom'\r\nimport {registerUser} from '../utils/authLocalForage.js'\r\nimport {Context} from '../utils/Context.js'\r\n\r\n\r\nimport localforage from \"localforage\"\r\n\r\n\r\n\r\nconst RegistrationPage  = () => {\r\n\tconst navigate = useNavigate()\r\n\tconst [username, setUsername] = useState('')\r\n\tconst [password, setPassword] = useState('')\r\n\tconst {auth, setAuth} = useContext(Context)\r\n\r\n\tuseEffect(() => {\r\n\t\tif(auth) {\r\n\t\t\t\tnavigate('/')\r\n\t\t\t}\t\r\n\t}, [auth])\r\n\r\n\tconst handleSubmit = () => {\r\n\t\t\tregisterUser(username, password, setAuth)\t\r\n\t}\r\n\r\n\tconst handleRemoveLocal = () => {\r\n\t\t\tlocalforage.removeItem('users')\r\n\t\t\tconsole.log('Все юзеры удалены')\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className='RegistrationPage'>\r\n\t\t\t<h1>Регистрация</h1>\r\n\t\t\t<form onSubmit={e => e.preventDefault()}>\r\n\t\t\t\t<label>\r\n\t\t\t\t\tИмя:\r\n\t\t\t\t\t<input \r\n\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\tplaceholder='Username'\r\n\t\t\t\t\t\tvalue={username}\r\n\t\t\t\t\t\tonChange={e => setUsername(e.target.value)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</label>\r\n\t\t\t\t<label>\r\n\t\t\t\t\tПароль:\r\n\t\t\t\t\t<input \r\n\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\tplaceholder='Username'\r\n\t\t\t\t\t\tvalue={password}\r\n\t\t\t\t\t\tonChange={e => setPassword(e.target.value)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</label>\r\n\t\t\t\t<div className='login'>\r\n\t\t\t\t\t<button onClick={handleSubmit}>Зарегистрироваться</button>\r\n\t\t\t\t\t<NavLink to='/login'>Login</NavLink>\r\n\t\t\t\t</div>\r\n\t\t\t</form>\r\n\r\n\t\t\t<button style={{color: 'white', margin: '20px 0'}} onClick={handleRemoveLocal}>\r\n\t\t\t\tУдалить всех юзеров\r\n\t\t\t</button>\r\n\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default RegistrationPage","import React, {useState, useEffect} from 'react'\r\nimport Layout from './components/Layout.jsx'\r\nimport MainPage from './pages/MainPage.jsx'\r\nimport AddpostPage from './pages/AddpostPage.jsx'\r\nimport CongrachulatePage from './pages/CongrachulatePage.jsx'\r\nimport LoginPage from './pages/LoginPage.jsx'\r\nimport RegistrationPage from './pages/RegistraitionPage.jsx'\r\nimport {Routes, Route} from 'react-router-dom'\r\nimport {Context} from './utils/Context.js'\r\nimport {getMe} from './utils/authLocalForage.js'\r\nimport {getToken} from './utils/token.js'\r\n\r\nconst App = () => {\t\t\r\n\r\n\tconst [auth, setAuth] = useState(false)\r\n\tconst [check, setCheck] = useState(false)\r\n\tconst [token, setToken] = useState('')\r\n\r\n\tuseEffect(() => {\r\n\t\tgetMe(setAuth)\r\n\t\tgetToken(setToken)\r\n\t}, [])\r\n\t\r\n\t// console.log('auth ', auth)\t\r\n\r\n\treturn (\r\n\t\t<Context.Provider value={{\r\n\t\t\tauth,\r\n\t\t\tsetAuth, \r\n\t\t\tcheck, \r\n\t\t\tsetCheck,\r\n\t\t\ttoken\r\n\t\t}}>\r\n\t\t\t<Layout>\r\n\t\t\t\t<Routes>\r\n\t\t\t\t\t<Route path='/' element={<MainPage />} />\r\n\t\t\t\t\t<Route path='/new' element={<AddpostPage />} />\r\n\t\t\t\t\t<Route path='/cong' element={<CongrachulatePage />} />\r\n\t\t\t\t\t<Route path='/login' element={<LoginPage />} />\r\n\t\t\t\t\t<Route path='/registration' element={<RegistrationPage />} />\r\n\t\t\t\t</Routes>\r\n\t\t\t</Layout>\r\n\t\t</Context.Provider>\r\n\t)\r\n\r\n}\r\n\r\nexport default App","import React from 'react'\r\nimport localforage from \"localforage\"\r\n\r\nexport const getToken = (set) => {\r\n\tlocalforage.getItem('token')\r\n\t\t.then(token => {\r\n\t\t\tset(token)\r\n\t\t})\r\n}","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App.jsx'\nimport { HashRouter } from 'react-router-dom'\n\n\nReactDOM.render(\n\t<HashRouter>\n\t\t\t<App />\n\t</HashRouter>,\n\tdocument.getElementById('root')\n)"],"sourceRoot":""}